# Shop - сервис для покупки крутого мерча
## Описание
Авторизованные сотрудники могут покупать мерч, дарить друг другу монеты, получать информацию о своих переводах, предметах и балансе. При регистрации сотрудник получает 1000 бонусных монет, баланс не может быть отрицательным.

Авторизация происходит с помощью JWT. Токен выдается при успешной аутентификации или регистрации.
### Мерч
| Название | Цена |
|:--:|:--:|
| t-shirt | 80
| book| 50
| cup| 20
| pen| 10
| powerbank| 200
| hoody| 300
| umbrella| 200
| socks| 10
| wallet| 50
| pink-hoody| 500

## Инструкция

Для сборки в корне проекта выполнить команду:
```bash
docker-compose up --build
```
## Обращение к серверу

 1.  Аутентификация (если в базе данных нет сотрудника с таким именем, то регистрация)
```bash
http://localhost:8080/api/auth
``` 
Входные данные в теле запроса
```json
{
"username":"ulia",
"password":"password"
}
```
В ответ приходит сгенерированный JWT
```json
{
"token":  "..."
}
```
***В СЛЕДУЮЩИХ ЗАПРОСАХ НУЖНО ОБЯЗАТЕЛЬНО ПЕРЕДАТЬ В ЗАГОЛОВКЕ
Key: Authorization
Value: bearer \<token\>***

2. Подарить монеты
```bash 
http://localhost:8080/api/sendCoin
```
Входные данные в теле запроса
```json
{
"toUser":"natasha", // получатель
"amount":300 // количество монет
}
```
3. Получить информацию о сотруднике
Ответ
```json
{
"coinHistory":  { // история переводов
"Received":  [ // полученные монеты
{
"Name":  "masha",
"Num":  300
}
],
"Send":  [] // подаренные монеты
},
"coins":  300,
"inventory":  [ // купленные предметы
{
"Name":  "umbrella",
"Num":  5
}
]
}
```
4.  Покупка мерча
```bash
http://localhost:8080/api/buy/:item
``` 
